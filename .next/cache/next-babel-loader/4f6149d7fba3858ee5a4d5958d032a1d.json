{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nvar _jsxFileName = \"/Users/joduplessis/Work/Weekday/polls/components/form.component.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Progress, Button, Input, Textarea, Select } from '@weekday/elements';\nimport moment from 'moment';\nimport { Trash } from 'react-feather';\nexport default function FormComponent(props) {\n  const today = moment();\n  const {\n    0: id,\n    1: setId\n  } = useState(null);\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const {\n    0: day,\n    1: setDay\n  } = useState(today.format('DD'));\n  const {\n    0: month,\n    1: setMonth\n  } = useState(today.format('MM'));\n  const {\n    0: year,\n    1: setYear\n  } = useState(today.format('YYYY'));\n  const {\n    0: questions,\n    1: setQuestions\n  } = useState([{\n    id: 0,\n    text: ''\n  }]);\n\n  const addQuestion = () => setQuestions([...questions, {\n    id: questions.length + 1,\n    text: ''\n  }]);\n\n  const removeQuestion = index => {\n    let mutableQuestions = _Object$assign([], questions);\n\n    mutableQuestions.splice(index, 1);\n    setQuestions(mutableQuestions);\n  };\n\n  const updateQuestion = (text, id) => {\n    setQuestions(questions.map(question => {\n      if (id != question.id) return question;\n      return {\n        id: question.id,\n        text\n      };\n    }));\n  };\n\n  const save = () => {\n    const expiry = moment(`${day}/${month}/${year}`, 'DD/MM/YYYY').toDate(); // If we are updating\n\n    if (id) props.onSubmit(id, title, description, questions); // If we are creating\n\n    if (!id) props.onSubmit(title, description, questions);\n  };\n\n  useEffect(() => {\n    if (!props.id) return;\n    const date = moment(props.expiry).add(1, 'months');\n    setId(props.id);\n    setTitle(props.title);\n    setDescription(props.description);\n    setDay(date.format('DD'));\n    setMonth(date.format('MM'));\n    setYear(date.format('YYYY'));\n    setQuestions(props.questions);\n  }, []);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(_JSXStyle, {\n    id: \"674474010\",\n    __self: this\n  }, \".poll-container.jsx-674474010{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.poll-inner.jsx-674474010{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.progress-container.jsx-674474010{margin-bottom:5px;width:100%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2R1cGxlc3Npcy9Xb3JrL1dlZWtkYXkvcG9sbHMvY29tcG9uZW50cy9mb3JtLmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4RGtCLEFBR3NCLEFBU1csQUFRSixXQWhCTCxPQWlCRixXQUNiLGlEQVRlLE9BUlMsbUVBU0gsV0FSQyxrRkFTQyxlQVJBLDZEQVNFLGVBUkEsb0ZBU3pCLGVBUkEiLCJmaWxlIjoiL1VzZXJzL2pvZHVwbGVzc2lzL1dvcmsvV2Vla2RheS9wb2xscy9jb21wb25lbnRzL2Zvcm0uY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb2dyZXNzLCBCdXR0b24sIElucHV0LCBUZXh0YXJlYSwgU2VsZWN0IH0gZnJvbSAnQHdlZWtkYXkvZWxlbWVudHMnXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcbmltcG9ydCB7IFRyYXNoIH0gZnJvbSAncmVhY3QtZmVhdGhlcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9ybUNvbXBvbmVudChwcm9wcykge1xuICBjb25zdCB0b2RheSA9IG1vbWVudCgpXG4gIGNvbnN0IFtpZCwgc2V0SWRdID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2Rlc2NyaXB0aW9uLCBzZXREZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2RheSwgc2V0RGF5XSA9IHVzZVN0YXRlKHRvZGF5LmZvcm1hdCgnREQnKSlcbiAgY29uc3QgW21vbnRoLCBzZXRNb250aF0gPSB1c2VTdGF0ZSh0b2RheS5mb3JtYXQoJ01NJykpXG4gIGNvbnN0IFt5ZWFyLCBzZXRZZWFyXSA9IHVzZVN0YXRlKHRvZGF5LmZvcm1hdCgnWVlZWScpKVxuICBjb25zdCBbcXVlc3Rpb25zLCBzZXRRdWVzdGlvbnNdID0gdXNlU3RhdGUoW3tpZDogMCwgdGV4dDogJyd9XSlcblxuICBjb25zdCBhZGRRdWVzdGlvbiA9ICgpID0+IHNldFF1ZXN0aW9ucyhbLi4ucXVlc3Rpb25zLCB7XG4gICAgaWQ6IHF1ZXN0aW9ucy5sZW5ndGggKyAxLFxuICAgIHRleHQ6ICcnLFxuICB9XSlcblxuICBjb25zdCByZW1vdmVRdWVzdGlvbiA9IChpbmRleCkgPT4ge1xuICAgIGxldCBtdXRhYmxlUXVlc3Rpb25zID0gT2JqZWN0LmFzc2lnbihbXSwgcXVlc3Rpb25zKVxuICAgIG11dGFibGVRdWVzdGlvbnMuc3BsaWNlKGluZGV4LCAxKVxuICAgIHNldFF1ZXN0aW9ucyhtdXRhYmxlUXVlc3Rpb25zKVxuICB9XG5cbiAgY29uc3QgdXBkYXRlUXVlc3Rpb24gPSAodGV4dCwgaWQpID0+IHtcbiAgICBzZXRRdWVzdGlvbnMocXVlc3Rpb25zLm1hcChxdWVzdGlvbiA9PiB7XG4gICAgICBpZiAoaWQgIT0gcXVlc3Rpb24uaWQpIHJldHVybiBxdWVzdGlvblxuXG4gICAgICByZXR1cm4geyBpZDogcXVlc3Rpb24uaWQsIHRleHQgfVxuICAgIH0pKVxuICB9XG5cbiAgY29uc3Qgc2F2ZSA9ICgpID0+IHtcbiAgICBjb25zdCBleHBpcnkgPSBtb21lbnQoYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YCwgJ0REL01NL1lZWVknKS50b0RhdGUoKVxuXG4gICAgLy8gSWYgd2UgYXJlIHVwZGF0aW5nXG4gICAgaWYgKGlkKSBwcm9wcy5vblN1Ym1pdChpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBxdWVzdGlvbnMpXG5cbiAgICAvLyBJZiB3ZSBhcmUgY3JlYXRpbmdcbiAgICBpZiAoIWlkKSBwcm9wcy5vblN1Ym1pdCh0aXRsZSwgZGVzY3JpcHRpb24sIHF1ZXN0aW9ucylcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwcm9wcy5pZCkgcmV0dXJuXG5cbiAgICBjb25zdCBkYXRlID0gbW9tZW50KHByb3BzLmV4cGlyeSkuYWRkKDEsICdtb250aHMnKVxuXG4gICAgc2V0SWQocHJvcHMuaWQpXG4gICAgc2V0VGl0bGUocHJvcHMudGl0bGUpXG4gICAgc2V0RGVzY3JpcHRpb24ocHJvcHMuZGVzY3JpcHRpb24pXG4gICAgc2V0RGF5KGRhdGUuZm9ybWF0KCdERCcpKVxuICAgIHNldE1vbnRoKGRhdGUuZm9ybWF0KCdNTScpKVxuICAgIHNldFllYXIoZGF0ZS5mb3JtYXQoJ1lZWVknKSlcbiAgICBzZXRRdWVzdGlvbnMocHJvcHMucXVlc3Rpb25zKVxuXG4gICAgXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAucG9sbC1jb250YWluZXIge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAucG9sbC1pbm5lciB7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLnByb2dyZXNzLWNvbnRhaW5lciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWlubmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoNCBjb2xvci1kMyB0ZXh0LWxlZnQgdy0xMDAgbWItMjBcIj5DcmVhdGUgYSBuZXcgcG9sbDwvZGl2PlxuXG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICBpbnB1dFNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBvbGwgdGl0bGVcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgIHZhbHVlPXtkZXNjcmlwdGlvbn1cbiAgICAgICAgICAgIHRleHRhcmVhU2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUG9sbCBkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0RGVzY3JpcHRpb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImg1IGNvbG9yLWQwIHRleHQtbGVmdCB3LTEwMCBtYi0xMCBtdC0yMFwiPlF1ZXN0aW9uczwvZGl2PlxuXG4gICAgICAgICAge3F1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdy0xMDAgbWItNVwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3F1ZXN0aW9uLnRleHR9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk9wdGlvbiB0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGlucHV0U2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVwZGF0ZVF1ZXN0aW9uKGUudGFyZ2V0LnZhbHVlLCBxdWVzdGlvbi5pZCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFRyYXNoXG4gICAgICAgICAgICAgICAgICBjb2xvcj1cIiNBQ0I1QkRcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cIjIwXCJcbiAgICAgICAgICAgICAgICAgIHRoaWNrbmVzcz1cIjEuNVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0yMCBidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiByZW1vdmVRdWVzdGlvbihpbmRleCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImg1IGNvbG9yLWQwIHRleHQtbGVmdCB3LTEwMCBtYi0xMCBtdC0yMFwiPkV4cGlyeTwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdy0xMDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleGVyIGNvbHVtbiBwci0xMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNtYWxsIGNvbG9yLWhpZ2hsaWdodCB0ZXh0LWxlZnRcIj5EYXk8L2Rpdj5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXswfVxuICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhpbmRleCkgPT4gY29uc29sZS5sb2coaW5kZXgpfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e21vbWVudCgpLmRheXNJbk1vbnRoKCkubWFwKGRheSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4geyBvcHRpb246IGRheSwgdmFsdWU6IGRheSB9XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4ZXIgY29sdW1uIHAtMTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbWFsbCBjb2xvci1oaWdobGlnaHQgdGV4dC1sZWZ0XCI+TW9udGg8L2Rpdj5cbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXswfVxuICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhpbmRleCkgPT4gY29uc29sZS5sb2coaW5kZXgpfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e21vbWVudCgpLm1vbnRocygpLm1hcChtb250aCA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4geyBvcHRpb246IG1vbnRoLCB2YWx1ZTogbW9udGggfVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleGVyIGNvbHVtbiBwbC0xMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNtYWxsIGNvbG9yLWhpZ2hsaWdodCB0ZXh0LWxlZnRcIj5ZZWFyPC9kaXY+XG4gICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICBzZWxlY3RlZD17MH1cbiAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaW5kZXgpID0+IGNvbnNvbGUubG9nKGluZGV4KX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICAgICAgICB7IG9wdGlvbjogbW9tZW50KCkueWVhcigpLCB2YWx1ZTogbW9tZW50KCkueWVhcigpIH0sXG4gICAgICAgICAgICAgICAgICB7IG9wdGlvbjogbW9tZW50KCkueWVhcigpICsgMSwgdmFsdWU6IG1vbWVudCgpLnllYXIoKSArIDEgfSxcbiAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB3LTEwMCBtdC0yMFwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICB0aGVtZT1cImJsdWUtYm9yZGVyXCJcbiAgICAgICAgICAgICAgdGV4dD1cIkFkZCBhIG5ldyBxdWVzdGlvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2FkZFF1ZXN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleGVyXCIgLz5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgdGhlbWU9XCJibHVlXCJcbiAgICAgICAgICAgICAgdGV4dD17IXByb3BzLmlkID8gXCJDcmVhdGUgcG9sbFwiIDogXCJVcGRhdGUgcG9sbFwifVxuICAgICAgICAgICAgICBvbkNsaWNrPXtzYXZlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gIClcbn1cbiJdfQ== */\\n/*@ sourceURL=/Users/joduplessis/Work/Weekday/polls/components/form.component.js */\"), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"poll-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"poll-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"h4 color-d3 text-left w-100 mb-20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Create a new poll\"), __jsx(Input, {\n    value: title,\n    inputSize: \"large\",\n    placeholder: \"Poll title\",\n    onChange: e => setTitle(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), __jsx(Textarea, {\n    value: description,\n    textareaSize: \"large\",\n    placeholder: \"Poll description\",\n    rows: 3,\n    onChange: e => setDescription(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"h5 color-d0 text-left w-100 mb-10 mt-20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Questions\"), questions.map((question, index) => {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"jsx-674474010\" + \" \" + \"row w-100 mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, __jsx(Input, {\n      value: question.text,\n      placeholder: \"Option text\",\n      inputSize: \"large\",\n      onChange: e => updateQuestion(e.target.value, question.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), __jsx(Trash, {\n      color: \"#ACB5BD\",\n      size: \"20\",\n      thickness: \"1.5\",\n      className: \"ml-20 button\",\n      onClick: e => removeQuestion(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"h5 color-d0 text-left w-100 mb-10 mt-20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Expiry\"), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"row w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"flexer column pr-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"small color-highlight text-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Day\"), __jsx(Select, {\n    selected: 0,\n    size: \"large\",\n    onSelect: index => console.log(index),\n    options: moment().daysInMonth().map(day => {\n      return {\n        option: day,\n        value: day\n      };\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"flexer column p-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"small color-highlight text-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Month\"), __jsx(Select, {\n    selected: 0,\n    size: \"large\",\n    onSelect: index => console.log(index),\n    options: moment().months().map(month => {\n      return {\n        option: month,\n        value: month\n      };\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"flexer column pl-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"small color-highlight text-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Year\"), __jsx(Select, {\n    selected: 0,\n    size: \"large\",\n    onSelect: index => console.log(index),\n    options: [{\n      option: moment().year(),\n      value: moment().year()\n    }, {\n      option: moment().year() + 1,\n      value: moment().year() + 1\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"row w-100 mt-20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, __jsx(Button, {\n    size: \"small\",\n    theme: \"blue-border\",\n    text: \"Add a new question\",\n    onClick: addQuestion,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"jsx-674474010\" + \" \" + \"flexer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }), __jsx(Button, {\n    size: \"small\",\n    theme: \"blue\",\n    text: !props.id ? \"Create poll\" : \"Update poll\",\n    onClick: save,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["/Users/joduplessis/Work/Weekday/polls/components/form.component.js"],"names":["React","useState","useEffect","Progress","Button","Input","Textarea","Select","moment","Trash","FormComponent","props","today","id","setId","title","setTitle","description","setDescription","day","setDay","format","month","setMonth","year","setYear","questions","setQuestions","text","addQuestion","length","removeQuestion","index","mutableQuestions","splice","updateQuestion","map","question","save","expiry","toDate","onSubmit","date","add","e","target","value","console","log","daysInMonth","option","months"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Progress, Button, Input, Textarea, Select } from '@weekday/elements'\nimport moment from 'moment'\nimport { Trash } from 'react-feather'\n\nexport default function FormComponent(props) {\n  const today = moment()\n  const [id, setId] = useState(null)\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [day, setDay] = useState(today.format('DD'))\n  const [month, setMonth] = useState(today.format('MM'))\n  const [year, setYear] = useState(today.format('YYYY'))\n  const [questions, setQuestions] = useState([{id: 0, text: ''}])\n\n  const addQuestion = () => setQuestions([...questions, {\n    id: questions.length + 1,\n    text: '',\n  }])\n\n  const removeQuestion = (index) => {\n    let mutableQuestions = Object.assign([], questions)\n    mutableQuestions.splice(index, 1)\n    setQuestions(mutableQuestions)\n  }\n\n  const updateQuestion = (text, id) => {\n    setQuestions(questions.map(question => {\n      if (id != question.id) return question\n\n      return { id: question.id, text }\n    }))\n  }\n\n  const save = () => {\n    const expiry = moment(`${day}/${month}/${year}`, 'DD/MM/YYYY').toDate()\n\n    // If we are updating\n    if (id) props.onSubmit(id, title, description, questions)\n\n    // If we are creating\n    if (!id) props.onSubmit(title, description, questions)\n  }\n\n  useEffect(() => {\n    if (!props.id) return\n\n    const date = moment(props.expiry).add(1, 'months')\n\n    setId(props.id)\n    setTitle(props.title)\n    setDescription(props.description)\n    setDay(date.format('DD'))\n    setMonth(date.format('MM'))\n    setYear(date.format('YYYY'))\n    setQuestions(props.questions)\n\n    \n  }, [])\n\n  return (\n    <React.Fragment>\n      <style jsx>{`\n        .poll-container {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n          align-content: center;\n          justify-content: center;\n        }\n\n        .poll-inner {\n          flex-direction: column;\n          display: flex;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n        }\n\n        .progress-container {\n          margin-bottom: 5px;\n          width: 100%;\n        }\n      `}</style>\n\n      <div className=\"poll-container\">\n        <div className=\"poll-inner\">\n          <div className=\"h4 color-d3 text-left w-100 mb-20\">Create a new poll</div>\n\n          <Input\n            value={title}\n            inputSize=\"large\"\n            placeholder=\"Poll title\"\n            onChange={e => setTitle(e.target.value)}\n          />\n\n          <Textarea\n            value={description}\n            textareaSize=\"large\"\n            placeholder=\"Poll description\"\n            rows={3}\n            onChange={e => setDescription(e.target.value)}\n          />\n\n          <div className=\"h5 color-d0 text-left w-100 mb-10 mt-20\">Questions</div>\n\n          {questions.map((question, index) => {\n            return (\n              <div className=\"row w-100 mb-5\" key={index}>\n                <Input\n                  value={question.text}\n                  placeholder=\"Option text\"\n                  inputSize=\"large\"\n                  onChange={e => updateQuestion(e.target.value, question.id)}\n                />\n              <Trash\n                  color=\"#ACB5BD\"\n                  size=\"20\"\n                  thickness=\"1.5\"\n                  className=\"ml-20 button\"\n                  onClick={e => removeQuestion(index)}\n                />\n              </div>\n            )\n          })}\n\n          <div className=\"h5 color-d0 text-left w-100 mb-10 mt-20\">Expiry</div>\n\n          <div className=\"row w-100\">\n            <div className=\"flexer column pr-10\">\n              <div className=\"small color-highlight text-left\">Day</div>\n              <Select\n                selected={0}\n                size=\"large\"\n                onSelect={(index) => console.log(index)}\n                options={moment().daysInMonth().map(day => {\n                  return { option: day, value: day }\n                })}\n              />\n            </div>\n\n            <div className=\"flexer column p-10\">\n              <div className=\"small color-highlight text-left\">Month</div>\n              <Select\n                selected={0}\n                size=\"large\"\n                onSelect={(index) => console.log(index)}\n                options={moment().months().map(month => {\n                  return { option: month, value: month }\n                })}\n              />\n            </div>\n\n            <div className=\"flexer column pl-10\">\n              <div className=\"small color-highlight text-left\">Year</div>\n              <Select\n                selected={0}\n                size=\"large\"\n                onSelect={(index) => console.log(index)}\n                options={[\n                  { option: moment().year(), value: moment().year() },\n                  { option: moment().year() + 1, value: moment().year() + 1 },\n                ]}\n              />\n            </div>\n          </div>\n\n          <div className=\"row w-100 mt-20\">\n            <Button\n              size=\"small\"\n              theme=\"blue-border\"\n              text=\"Add a new question\"\n              onClick={addQuestion}\n            />\n            <div className=\"flexer\" />\n            <Button\n              size=\"small\"\n              theme=\"blue\"\n              text={!props.id ? \"Create poll\" : \"Update poll\"}\n              onClick={save}\n            />\n          </div>\n\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}