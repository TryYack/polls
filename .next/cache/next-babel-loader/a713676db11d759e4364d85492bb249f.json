{"ast":null,"code":"export var autoAdjustMessageHeight = function autoAdjustMessageHeight() {\n  var currentHeight = 0;\n  setInterval(function () {\n    var scrollHeight = document.documentElement.scrollHeight;\n\n    if (scrollHeight != currentHeight) {\n      currentHeight = scrollHeight;\n      window.location.search.split('&').map(function (query) {\n        var parts = query.split('=');\n\n        if (parts[0] == 'weekdayId' && parts.length == 2) {\n          var weekdayId = parts[1];\n          postAppMessage({\n            type: 'AUTO_ADJUST_MESSAGE_HEIGHT',\n            weekdayId: weekdayId,\n            scrollHeight: scrollHeight\n          });\n        }\n      });\n    }\n  }, 1000);\n};\nexport var closeAppPanel = function closeAppPanel(_ref) {\n  var name = _ref.name,\n      url = _ref.url;\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'panel',\n      name: name,\n      url: url\n    }\n  });\n};\nexport var openAppPanel = function openAppPanel(_ref2) {\n  var name = _ref2.name,\n      url = _ref2.url;\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'panel',\n      name: name,\n      url: url\n    }\n  });\n};\nexport var openAppModal = function openAppModal(_ref3) {\n  var name = _ref3.name,\n      url = _ref3.url;\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'modal',\n      name: name,\n      url: url\n    }\n  });\n};\nexport var postAppMessage = function postAppMessage(payload) {\n  window.top.postMessage({\n    type: 'weekday',\n    payload: payload\n  }, '*');\n};","map":{"version":3,"sources":["/Users/joduplessis/Work/Weekday/polls/util.js"],"names":["autoAdjustMessageHeight","currentHeight","setInterval","scrollHeight","document","documentElement","window","location","search","split","map","query","parts","length","weekdayId","postAppMessage","type","closeAppPanel","name","url","action","openAppPanel","openAppModal","payload","top","postMessage"],"mappings":"AAAA,OAAO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAC3C,MAAIC,aAAa,GAAG,CAApB;AAEAC,EAAAA,WAAW,CAAC,YAAM;AAAA,QACRC,YADQ,GACSC,QAAQ,CAACC,eADlB,CACRF,YADQ;;AAGhB,QAAIA,YAAY,IAAIF,aAApB,EAAmC;AACjCA,MAAAA,aAAa,GAAGE,YAAhB;AAEAG,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkCC,GAAlC,CAAsC,UAAAC,KAAK,EAAI;AAC7C,YAAMC,KAAK,GAAGD,KAAK,CAACF,KAAN,CAAY,GAAZ,CAAd;;AAEA,YAAIG,KAAK,CAAC,CAAD,CAAL,IAAY,WAAZ,IAA2BA,KAAK,CAACC,MAAN,IAAgB,CAA/C,EAAkD;AAChD,cAAMC,SAAS,GAAGF,KAAK,CAAC,CAAD,CAAvB;AAEAG,UAAAA,cAAc,CAAC;AACbC,YAAAA,IAAI,EAAE,4BADO;AAEbF,YAAAA,SAAS,EAATA,SAFa;AAGbX,YAAAA,YAAY,EAAZA;AAHa,WAAD,CAAd;AAKD;AACF,OAZD;AAaD;AACF,GApBU,EAoBR,IApBQ,CAAX;AAqBD,CAxBM;AA0BP,OAAO,IAAMc,aAAa,GAAG,SAAhBA,aAAgB,OAAmB;AAAA,MAAhBC,IAAgB,QAAhBA,IAAgB;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC9CJ,EAAAA,cAAc,CAAC;AACbC,IAAAA,IAAI,EAAE,qBADO;AAEbI,IAAAA,MAAM,EAAE;AACNJ,MAAAA,IAAI,EAAE,OADA;AAENE,MAAAA,IAAI,EAAJA,IAFM;AAGNC,MAAAA,GAAG,EAAHA;AAHM;AAFK,GAAD,CAAd;AAQD,CATM;AAWP,OAAO,IAAME,YAAY,GAAG,SAAfA,YAAe,QAAmB;AAAA,MAAhBH,IAAgB,SAAhBA,IAAgB;AAAA,MAAVC,GAAU,SAAVA,GAAU;AAC7CJ,EAAAA,cAAc,CAAC;AACbC,IAAAA,IAAI,EAAE,qBADO;AAEbI,IAAAA,MAAM,EAAE;AACNJ,MAAAA,IAAI,EAAE,OADA;AAENE,MAAAA,IAAI,EAAJA,IAFM;AAGNC,MAAAA,GAAG,EAAHA;AAHM;AAFK,GAAD,CAAd;AAQD,CATM;AAWP,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,QAAmB;AAAA,MAAhBJ,IAAgB,SAAhBA,IAAgB;AAAA,MAAVC,GAAU,SAAVA,GAAU;AAC7CJ,EAAAA,cAAc,CAAC;AACbC,IAAAA,IAAI,EAAE,qBADO;AAEbI,IAAAA,MAAM,EAAE;AACNJ,MAAAA,IAAI,EAAE,OADA;AAENE,MAAAA,IAAI,EAAJA,IAFM;AAGNC,MAAAA,GAAG,EAAHA;AAHM;AAFK,GAAD,CAAd;AAQD,CATM;AAWP,OAAO,IAAMJ,cAAc,GAAG,SAAjBA,cAAiB,CAACQ,OAAD,EAAa;AACzCjB,EAAAA,MAAM,CAACkB,GAAP,CAAWC,WAAX,CAAuB;AAAET,IAAAA,IAAI,EAAE,SAAR;AAAmBO,IAAAA,OAAO,EAAPA;AAAnB,GAAvB,EAAqD,GAArD;AACD,CAFM","sourcesContent":["export const autoAdjustMessageHeight = () => {\n  let currentHeight = 0\n\n  setInterval(() => {\n    const { scrollHeight } = document.documentElement\n\n    if (scrollHeight != currentHeight) {\n      currentHeight = scrollHeight\n\n      window.location.search.split('&').map(query => {\n        const parts = query.split('=')\n\n        if (parts[0] == 'weekdayId' && parts.length == 2) {\n          const weekdayId = parts[1]\n\n          postAppMessage({\n            type: 'AUTO_ADJUST_MESSAGE_HEIGHT',\n            weekdayId,\n            scrollHeight,\n          })\n        }\n      })\n    }\n  }, 1000)\n}\n\nexport const closeAppPanel = ({ name, url }) => {\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'panel',\n      name,\n      url,\n    }\n  })\n}\n\nexport const openAppPanel = ({ name, url }) => {\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'panel',\n      name,\n      url,\n    }\n  })\n}\n\nexport const openAppModal = ({ name, url }) => {\n  postAppMessage({\n    type: 'DISPATCH_APP_ACTION',\n    action: {\n      type: 'modal',\n      name,\n      url,\n    }\n  })\n}\n\nexport const postAppMessage = (payload) => {\n  window.top.postMessage({ type: 'weekday', payload }, '*')\n}\n"]},"metadata":{},"sourceType":"module"}